# NY Sales Tax Calculator üóΩ

RESTful API —Å–µ—Ä–≤—ñ—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –ø–æ–¥–∞—Ç–∫—É –∑ –ø—Ä–æ–¥–∞–∂—É (Sales Tax) –¥–ª—è —à—Ç–∞—Ç—É –ù—å—é-–ô–æ—Ä–∫ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –≥–µ–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.

## üí° –ì–æ–ª–æ–≤–Ω–∞ —ñ–¥–µ—è —Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–í –æ—Å–Ω–æ–≤—ñ –ø—Ä–æ—î–∫—Ç—É –ª–µ–∂–∏—Ç—å –≤–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º–∏ –ø—Ä–æ—Å—Ç–æ—Ä–æ–≤–æ–≥–æ –ø–æ—à—É–∫—É (Spatial Queries). –û—Å–∫—ñ–ª—å–∫–∏ –ø–æ–¥–∞—Ç–∫–æ–≤—ñ —Å—Ç–∞–≤–∫–∏ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —é—Ä–∏—Å–¥–∏–∫—Ü—ñ–π (–ø–æ–ª—ñ–≥–æ–Ω—ñ–≤ –Ω–∞ –∫–∞—Ä—Ç—ñ), –∑–≤–∏—á–∞–π–Ω—ñ —Ä–µ–ª—è—Ü—ñ–π–Ω—ñ –∑–∞–ø–∏—Ç–∏ —Ç—É—Ç –Ω–µ–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ. 

**–ö–ª—é—á–æ–≤—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è:**
1. **PostGIS —è–∫ –≥–µ–æ-—Ä—É—à—ñ–π:** –ó–∞–º—ñ—Å—Ç—å —Å–∫–ª–∞–¥–Ω–∏—Ö –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö –æ–±—á–∏—Å–ª–µ–Ω—å —É –∫–æ–¥—ñ C#, –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è PostGIS –¥–ª—è PostgreSQL. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–¥–æ–≤–≥–æ—Ç–∞/—à–∏—Ä–æ—Ç–∞) –∫–æ–Ω–≤–µ—Ä—Ç—É—é—Ç—å—Å—è —É —Ç–∏–ø `geometry`, —â–æ –¥–æ–∑–≤–æ–ª—è—î –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –º–∏—Ç—Ç—î–≤–æ –≤–∏–∑–Ω–∞—á–∞—Ç–∏, –¥–æ —è–∫–æ—ó –ø–æ–¥–∞—Ç–∫–æ–≤–æ—ó –∑–æ–Ω–∏ –Ω–∞–ª–µ–∂–∏—Ç—å —Ç–æ—á–∫–∞.
2. **Clean Architecture (–ß–∏—Å—Ç–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞):** –ü—Ä–æ—î–∫—Ç —Ä–æ–∑–¥—ñ–ª–µ–Ω–∏–π –Ω–∞ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ —à–∞—Ä–∏ (Domain, Application, Infrastructure, API). –¶–µ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –ø–æ–¥–∞—Ç–∫—ñ–≤ –ø–æ–≤–Ω—ñ—Å—Ç—é —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∞ –≤—ñ–¥ –¥–µ—Ç–∞–ª–µ–π —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö –∞–±–æ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ —Ñ–∞–π–ª—ñ–≤ (CSV).
3. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è:** –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö (–∑ —É–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–º PostGIS) –ø–æ–≤–Ω—ñ—Å—Ç—é —É–ø–∞–∫–æ–≤–∞–Ω—ñ –≤ Docker. –¶–µ –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É "–Ω–∞ –º–æ—î–º—É –∫–æ–º–ø'—é—Ç–µ—Ä—ñ –ø—Ä–∞—Ü—é—î" —Ç–∞ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ —Å–∏—Å—Ç–µ–º—É –æ–¥–Ω—ñ—î—é –∫–æ–º–∞–Ω–¥–æ—é.
4. **Resilience (–°—Ç—ñ–π–∫—ñ—Å—Ç—å):** –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –º–µ—Ö–∞–Ω—ñ–∑–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏—Ö –ø–æ–≤—Ç–æ—Ä–Ω–∏—Ö —Å–ø—Ä–æ–± (Retry on Failure) –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î, —â–æ –≤–∏—Ä—ñ—à—É—î –ø—Ä–æ–±–ª–µ–º—É "–ø–µ—Ä–µ–≥–æ–Ω—ñ–≤" (race condition) –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É —Å—Ç–∞—Ä—Ç—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫
* **–ë–µ–∫–µ–Ω–¥:** C# 12, .NET 8, ASP.NET Core Web API
* **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** PostgreSQL 15 + PostGIS 3.4
* **ORM:** Entity Framework Core 8
* **–ü–∞—Ä—Å–∏–Ω–≥:** CsvHelper
* **–†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:** Docker, Docker Compose

---

## üöÄ –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ—î–∫—Ç –ª–æ–∫–∞–ª—å–Ω–æ

–î–ª—è –∑–∞–ø—É—Å–∫—É —Å–∏—Å—Ç–µ–º–∏ –≤–∞–º –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ª–∏—à–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Docker** —Ç–∞ **Docker Desktop** (–∞–±–æ Docker Engine). –í—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ .NET SDK —á–∏ PostgreSQL –Ω–∞ –∫–æ–º–ø'—é—Ç–µ—Ä –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ.

### 1. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —É –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ –ø—Ä–æ—î–∫—Ç—É (—Ç–∞–º, –¥–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —Ñ–∞–π–ª `docker-compose.yml`) —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
docker-compose up --build -d
